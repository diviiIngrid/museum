{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\mmuseum\\\\client\\\\src\\\\pages\\\\LoginPage\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { login } from '../../http/userAPI';\nimport { AuthContext } from '../../context/AuthContext';\nimport './LoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  var _location$state;\n  const {\n    setUser,\n    setIsAuth\n  } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || '/';\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Invalid email address').required('Email is required'),\n    password: Yup.string().required('Password is required')\n  });\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    try {\n      setLoginError('');\n      const user = await login(values.email, values.password);\n      setUser(user);\n      setIsAuth(true);\n      navigate(from, {\n        replace: true\n      });\n    } catch (error) {\n      setLoginError('Invalid email or password');\n      console.error('Login error:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"auth-subtitle\",\n          children: \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442, \\u043F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430 \\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0442 \\u0441\\u0432\\u043E\\u0435 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: '',\n            password: ''\n          },\n          validationSchema: validationSchema,\n          onSubmit: handleSubmit,\n          children: ({\n            isSubmitting\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            className: \"auth-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"email\",\n                id: \"email\",\n                name: \"email\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"email\",\n                component: \"div\",\n                className: \"error-message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"password\",\n                id: \"password\",\n                name: \"password\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"password\",\n                component: \"div\",\n                className: \"error-message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: loginError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary btn-block\",\n              disabled: isSubmitting,\n              children: isSubmitting ? 'Logging in...' : 'Login'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"vLumu5257FT/iOMClJCinG74yFQ=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","useLocation","Formik","Form","Field","ErrorMessage","Yup","login","AuthContext","jsxDEV","_jsxDEV","LoginPage","_s","_location$state","setUser","setIsAuth","loginError","setLoginError","navigate","location","from","state","validationSchema","object","email","string","required","password","handleSubmit","values","setSubmitting","user","replace","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","onSubmit","isSubmitting","htmlFor","type","id","name","component","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/mmuseum/client/src/pages/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { login } from '../../http/userAPI';\nimport { AuthContext } from '../../context/AuthContext';\nimport './LoginPage.css';\n\nconst LoginPage = () => {\n  const { setUser, setIsAuth } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Invalid email address').required('Email is required'),\n    password: Yup.string().required('Password is required')\n  });\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    try {\n      setLoginError('');\n      const user = await login(values.email, values.password);\n      setUser(user);\n      setIsAuth(true);\n      navigate(from, { replace: true });\n    } catch (error) {\n      setLoginError('Invalid email or password');\n      console.error('Login error:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container\">\n        <div className=\"auth-card\">\n          <h1>Авторизация</h1>\n          <p className=\"auth-subtitle\">Добро пожаловат, пожалуйста введите данные от свое аккаунта</p>\n          \n          <Formik\n            initialValues={{ email: '', password: '' }}\n            validationSchema={validationSchema}\n            onSubmit={handleSubmit}\n          >\n            {({ isSubmitting }) => (\n              <Form className=\"auth-form\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email</label>\n                  <Field type=\"email\" id=\"email\" name=\"email\" className=\"form-control\" />\n                  <ErrorMessage name=\"email\" component=\"div\" className=\"error-message\" />\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <Field type=\"password\" id=\"password\" name=\"password\" className=\"form-control\" />\n                  <ErrorMessage name=\"password\" component=\"div\" className=\"error-message\" />\n                </div>\n                \n                {loginError && <div className=\"form-error\">{loginError}</div>}\n                \n                <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={isSubmitting}>\n                  {isSubmitting ? 'Logging in...' : 'Login'}\n                </button>\n              </Form>\n            )}\n          </Formik>\n          \n          <div className=\"auth-footer\">\n            <p>Don't have an account? <Link to=\"/register\">Register</Link></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}