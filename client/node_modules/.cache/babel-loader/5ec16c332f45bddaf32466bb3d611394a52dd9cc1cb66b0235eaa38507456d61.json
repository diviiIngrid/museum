{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{fetchOneExhibition}from'../../http/exhibitionAPI';import ReservationForm from'../../components/ReservationForm/ReservationForm';import{FaCalendarAlt,FaTicketAlt,FaClock}from'react-icons/fa';import'./ExhibitionDetailPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ExhibitionDetailPage=()=>{const{id}=useParams();const[exhibition,setExhibition]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const getExhibitionDetails=async()=>{try{setLoading(true);const data=await fetchOneExhibition(id);setExhibition(data);}catch(error){console.error('Ошибка при получении сведений о выставке:',error);setError('Не удалось загрузить подробную информацию о выставке. Пожалуйста, повторите попытку позже.');}finally{setLoading(false);}};getExhibitionDetails();},[id]);const formatDate=dateString=>{const options={year:'numeric',month:'long',day:'numeric'};return new Date(dateString).toLocaleDateString(undefined,options);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0435\\u0439 \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043E\\u043A...\"})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(Link,{to:\"/exhibitions\",className:\"btn btn-primary\",children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\\u043C\"})]});}if(!exhibition){return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"not-found\",children:\"\\u0412\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(Link,{to:\"/exhibitions\",className:\"btn btn-primary\",children:\"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\\u043C\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"exhibition-detail-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"exhibition-hero\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:exhibition.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"exhibition-meta\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(FaCalendarAlt,{}),/*#__PURE__*/_jsxs(\"span\",{className:\"exhibition-meta\",children:[formatDate(exhibition.start_date),\" - \",formatDate(exhibition.end_date)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(FaTicketAlt,{}),/*#__PURE__*/_jsxs(\"span\",{className:\"exhibition-meta\",children:[\"\\u20BD\",exhibition.ticket_price]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(FaClock,{}),/*#__PURE__*/_jsx(\"span\",{className:\"exhibition-meta\",children:\"10:00 - 17:00\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"exhibition-content section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"exhibition-layout\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"exhibition-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"exhibition-image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL.replace('/api',''),\"/\").concat(exhibition.image_url),alt:exhibition.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"exhibition-description\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041E \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0435\"}),/*#__PURE__*/_jsx(\"p\",{className:\"short-description\",children:exhibition.short_description}),/*#__PURE__*/_jsx(\"div\",{className:\"full-description\",children:exhibition.full_description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reservation-sidebar\",children:/*#__PURE__*/_jsx(ReservationForm,{exhibition:exhibition})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"exhibition-cta section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0411\\u043E\\u043B\\u044C\\u0448\\u0435 \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043E\\u043A\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041E\\u0442\\u043A\\u0440\\u043E\\u0439\\u0442\\u0435 \\u0434\\u043B\\u044F \\u0441\\u0435\\u0431\\u044F \\u0434\\u0440\\u0443\\u0433\\u0438\\u0435 \\u043D\\u0430\\u0448\\u0438 \\u0438\\u043D\\u0442\\u0435\\u0440\\u0435\\u0441\\u043D\\u044B\\u0435 \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438 \\u0432 \\u043C\\u0443\\u0437\\u0435\\u0435.\"}),/*#__PURE__*/_jsx(Link,{to:\"/exhibitions\",className:\"btn btn-primary\",children:\"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u0432\\u0441\\u0435 \\u0432\\u044B\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"})]})})]});};export default ExhibitionDetailPage;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","fetchOneExhibition","ReservationForm","FaCalendarAlt","FaTicketAlt","FaClock","jsx","_jsx","jsxs","_jsxs","ExhibitionDetailPage","id","exhibition","setExhibition","loading","setLoading","error","setError","getExhibitionDetails","data","console","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","className","children","to","title","start_date","end_date","ticket_price","src","concat","process","env","REACT_APP_API_URL","replace","image_url","alt","short_description","full_description"],"sources":["C:/Users/admin/Desktop/mmuseum/client/src/pages/ExhibitionDetailPage/ExhibitionDetailPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { fetchOneExhibition } from '../../http/exhibitionAPI';\nimport ReservationForm from '../../components/ReservationForm/ReservationForm';\nimport { FaCalendarAlt, FaTicketAlt, FaClock } from 'react-icons/fa';\nimport './ExhibitionDetailPage.css';\n\nconst ExhibitionDetailPage = () => {\n  const { id } = useParams();\n  const [exhibition, setExhibition] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const getExhibitionDetails = async () => {\n      try {\n        setLoading(true);\n        const data = await fetchOneExhibition(id);\n        setExhibition(data);\n      } catch (error) {\n        console.error('Ошибка при получении сведений о выставке:', error);\n        setError('Не удалось загрузить подробную информацию о выставке. Пожалуйста, повторите попытку позже.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getExhibitionDetails();\n  }, [id]);\n\n  const formatDate = (dateString) => {\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\n    return new Date(dateString).toLocaleDateString(undefined, options);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container\">\n        <div className=\"loading\">Загрузка деталей выставок...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"container\">\n        <div className=\"error\">{error}</div>\n        <Link to=\"/exhibitions\" className=\"btn btn-primary\">Вернуться к выставкам</Link>\n      </div>\n    );\n  }\n\n  if (!exhibition) {\n    return (\n      <div className=\"container\">\n        <div className=\"not-found\">Выставка не найдена</div>\n        <Link to=\"/exhibitions\" className=\"btn btn-primary\">Вернуться к выставкам</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"exhibition-detail-page\">\n      <div className=\"exhibition-hero\">\n        <div className=\"container\">\n          <h1>{exhibition.title}</h1>\n          <div className=\"exhibition-meta\">\n            <div className=\"meta-item\">\n              <FaCalendarAlt />\n              <span className=\"exhibition-meta\">{formatDate(exhibition.start_date)} - {formatDate(exhibition.end_date)}</span>\n            </div>\n            <div className=\"meta-item\">\n              <FaTicketAlt />\n              <span className=\"exhibition-meta\">₽{exhibition.ticket_price}</span>\n            </div>\n            <div className=\"meta-item\">\n              <FaClock />\n              <span className=\"exhibition-meta\">10:00 - 17:00</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"exhibition-content section\">\n        <div className=\"container\">\n          <div className=\"exhibition-layout\">\n            <div className=\"exhibition-info\">\n              <div className=\"exhibition-image\">\n                <img\n                  src={`${process.env.REACT_APP_API_URL.replace('/api', '')}/${exhibition.image_url}`}\n                  alt={exhibition.title}\n                />\n              </div>\n              \n              <div className=\"exhibition-description\">\n                <h2>О выставке</h2>\n                <p className=\"short-description\">{exhibition.short_description}</p>\n                <div className=\"full-description\">{exhibition.full_description}</div>\n              </div>\n            </div>\n            \n            <div className=\"reservation-sidebar\">\n              <ReservationForm exhibition={exhibition} />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"exhibition-cta section\">\n        <div className=\"container text-center\">\n          <h2>Больше выставок</h2>\n          <p>Откройте для себя другие наши интересные выставки в музее.</p>\n          <Link to=\"/exhibitions\" className=\"btn btn-primary\">Просмотреть все выставки</Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ExhibitionDetailPage;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}