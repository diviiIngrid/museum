{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\mmuseum\\\\client\\\\src\\\\pages\\\\LoginPage\\\\LoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { login } from '../../http/userAPI';\nimport { AuthContext } from '../../context/AuthContext';\nimport './LoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  var _location$state;\n  const {\n    setUser,\n    setIsAuth\n  } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.from) || '/';\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Неверный адрес эл.почта').required('Требуется эл.почты'),\n    password: Yup.string().required('Требуется пароль')\n  });\n  const handleSubmit = async (values, {\n    setSubmitting\n  }) => {\n    try {\n      setLoginError('');\n      const user = await login(values.email, values.password);\n      setUser(user);\n      setIsAuth(true);\n      navigate(from, {\n        replace: true\n      });\n    } catch (error) {\n      setLoginError('неверный адрес эл.почты или пароля');\n      console.error('Login error:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"auth-subtitle\",\n          children: \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442, \\u043F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430 \\u0432\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043E\\u0442 \\u0441\\u0432\\u043E\\u0435 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: '',\n            password: ''\n          },\n          validationSchema: validationSchema,\n          onSubmit: handleSubmit,\n          children: ({\n            isSubmitting\n          }) => /*#__PURE__*/_jsxDEV(Form, {\n            className: \"auth-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"email\",\n                children: \"\\u042D\\u043B.\\u043F\\u043E\\u0447\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"email\",\n                id: \"email\",\n                name: \"email\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"email\",\n                component: \"div\",\n                className: \"error-message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"password\",\n                children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Field, {\n                type: \"password\",\n                id: \"password\",\n                name: \"password\",\n                className: \"form-control\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                name: \"password\",\n                component: \"div\",\n                className: \"error-message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }, this), loginError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-error\",\n              children: loginError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 32\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary btn-block\",\n              disabled: isSubmitting,\n              children: isSubmitting ? 'Вход...' : 'Войти'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0415\\u0449\\u0435 \\u043D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginPage, \"aWmeItDCjJlhHOXj4abWojPMl70=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","useNavigate","useLocation","Formik","Form","Field","ErrorMessage","Yup","login","AuthContext","jsxDEV","_jsxDEV","LoginPage","_s","_location$state","setUser","setIsAuth","loginError","setLoginError","navigate","location","from","state","validationSchema","object","email","string","required","password","handleSubmit","values","setSubmitting","user","replace","error","console","window","scrollTo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","initialValues","onSubmit","isSubmitting","htmlFor","type","id","name","component","disabled","to","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/mmuseum/client/src/pages/LoginPage/LoginPage.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { login } from '../../http/userAPI';\nimport { AuthContext } from '../../context/AuthContext';\nimport './LoginPage.css';\n\nconst LoginPage = () => {\n  const { setUser, setIsAuth } = useContext(AuthContext);\n  const [loginError, setLoginError] = useState('');\n  const navigate = useNavigate();\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Неверный адрес эл.почта').required('Требуется эл.почты'),\n    password: Yup.string().required('Требуется пароль')\n  });\n\n  const handleSubmit = async (values, { setSubmitting }) => {\n    try {\n      setLoginError('');\n      const user = await login(values.email, values.password);\n      setUser(user);\n      setIsAuth(true);\n      navigate(from, { replace: true });\n    } catch (error) {\n      setLoginError('неверный адрес эл.почты или пароля');\n      console.error('Login error:', error);\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  useEffect(() => {\n          window.scrollTo(0, 0);\n        }, []);\n\n  return (\n    <div className=\"auth-page\">\n      <div className=\"auth-container\">\n        <div className=\"auth-card\">\n          <h1>Авторизация</h1>\n          <p className=\"auth-subtitle\">Добро пожаловат, пожалуйста введите данные от свое аккаунта</p>\n          \n          <Formik\n            initialValues={{ email: '', password: '' }}\n            validationSchema={validationSchema}\n            onSubmit={handleSubmit}\n          >\n            {({ isSubmitting }) => (\n              <Form className=\"auth-form\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Эл.почта</label>\n                  <Field type=\"email\" id=\"email\" name=\"email\" className=\"form-control\" />\n                  <ErrorMessage name=\"email\" component=\"div\" className=\"error-message\" />\n                </div>\n                \n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Пароль</label>\n                  <Field type=\"password\" id=\"password\" name=\"password\" className=\"form-control\" />\n                  <ErrorMessage name=\"password\" component=\"div\" className=\"error-message\" />\n                </div>\n                \n                {loginError && <div className=\"form-error\">{loginError}</div>}\n                \n                <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={isSubmitting}>\n                  {isSubmitting ? 'Вход...' : 'Войти'}\n                </button>\n              </Form>\n            )}\n          </Formik>\n          \n          <div className=\"auth-footer\">\n            <p>Еще нет аккаунта?<Link to=\"/register\">Зарегистрироваться</Link></p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}